function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var hColor=void 0,header=$("#card header");function getDayLight(){var e=new Date,t=e.getHours()-12,n=t?Math.abs(t)/t:1,r=((t+=(60*e.getMinutes()+e.getSeconds())/3600)/4-n)*n;return r=Math.max(r,0),r=Math.min(1,r)}function setLightColor(){$("#page").css("background-color","rgba(85,85,85,"+getDayLight()+")"),(new Date).getHours()<17&&(title.style="color:#666")}function preLoad(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"iframe",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"//tomotoes.com/blog",n=document.createElement(e);return n.style.display="none",n.src=t,document.body.appendChild(n),preLoad}var title=document.getElementById("typetitle"),typingbefore="你好，我叫 Simon，来自北方。",_i=0,countCall=0,countC=0;function typetitle(){_i<=typingbefore.length?(title.innerHTML=typingbefore.slice(0,_i++)+"|",setTimeout(typetitle,80)):title.innerHTML=typingbefore}function messenger(e){var t=this;t.init=function(){t.codeletters="&#*+%?￡@§$",t.message=0,t.current_length=0,t.fadeBuffer=!1,t.messages=["..."],setTimeout(t.animateIn,100)},t.generateRandomString=function(e){for(var n="";n.length<e;)n+=t.codeletters.charAt(Math.floor(Math.random()*t.codeletters.length));return n},t.animateIn=function(){t.current_length<t.messages[t.message].length?(t.current_length=t.current_length+2,t.current_length>t.messages[t.message].length&&(t.current_length=t.messages[t.message].length),$(e).html(t.generateRandomString(t.current_length)),setTimeout(t.animateIn,20)):setTimeout(t.animateFadeBuffer,20)},t.animateFadeBuffer=function(){if(!1===t.fadeBuffer){t.fadeBuffer=[];for(var n=0;n<t.messages[t.message].length;n++)t.fadeBuffer.push({c:Math.floor(12*Math.random())+1,l:t.messages[t.message].charAt(n)})}for(var r=!1,o="",a=0;a<t.fadeBuffer.length;a++){var i=t.fadeBuffer[a];i.c>0?(r=!0,i.c--,o+=t.codeletters.charAt(Math.floor(Math.random()*t.codeletters.length))):o+=i.l}if($(e).html(o),!0===r){if(15==++countC)return preLoad.call()("img","//tomotoes.com/images/live2d/"+Number(localStorage.getItem("model"))+".png"),typetitle(),void(countCall=3);if(!(countC<15))return;setTimeout(t.animateFadeBuffer,50)}else{if(countCall>2)return;2==++countCall?(preLoad.call()("img","//tomotoes.com/images/live2d/"+Number(localStorage.getItem("model"))+".png"),typetitle()):t.cycleText()}},t.cycleText=function(){t.message=t.message+1,t.message>=t.messages.length&&(t.message=0),t.current_length=0,t.fadeBuffer=!1,$(e).html(""),setTimeout(t.animateIn,200)},t.init()}var ofades=[].concat(_toConsumableArray(document.querySelector(".content--fixed").querySelectorAll(".fade")));function enter(){setLightColor(),setTimeout(function(){new Promise(function(e,t){e(ofades.forEach(function(e){return e.classList.add("in")}))}).then(function(){document.querySelector(".coding").classList.add("fade"),new messenger($("#typetitle"))})},400)}document.body.onmousewheel=function(){navigate(),enter()},document.querySelector(".arrow").addEventListener("mouseenter",function(){navigate(),enter()});